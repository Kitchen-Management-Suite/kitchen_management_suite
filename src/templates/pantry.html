{% extends "base.html" %}

{% block title %}KMS | Pantry{% endblock %}

{% block content %}
<h2>Pantry Dashboard</h2>

{% if current_household %}
    <p><strong>Household:</strong> {{ current_household.HouseholdName }}</p>
{% endif %}

<div id="pantry-root"></div>
{% endblock %}

{% block extra_js %}
<script>
    window.pantryData = {{ pantry_items | tojson }};
</script>
<script type="module">
    import { render, h } from "{{ url_for('static', filename='hook.js') }}";
    import { PantryContainer } from "{{ url_for('static', filename='pantry.js') }}";
    
    const pantryData = window.pantryData || [];
    render(h(PantryContainer, { pantryItems: pantryData }), document.getElementById('pantry-root'));
</script>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='pantry.css') }}">
{% endblock %}
